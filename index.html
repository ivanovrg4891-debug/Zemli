<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RPG GUI –∑ –∫–∞—Ä—Ç–æ—é —Ç–∞ –º—ñ—Å—Ü–µ–º –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #1d1f2a;
  color: #fff;
}
#topMenu {
  display: flex;
  background: #2c2f42;
  border-bottom: 2px solid #444;
}
#topMenu button {
  flex: 1;
  padding: 10px;
  background: #2c2f42;
  border: none;
  color: #aaa;
  font-weight: bold;
  cursor: pointer;
}
#topMenu button.active {
  background: #3f4160;
  color: #fff;
}
.container {
  display: flex;
  flex-direction: column;
  padding: 10px;
}
.panel {
  display: none;
  margin-top: 10px;
}
#charPanel { display: block; }
.stats {
  background: #2c2f42;
  padding: 10px;
  border: 1px solid #444;
  width: 200px;
}
.stats h2 { margin: 0 0 10px 0; font-size: 18px; }
.stats div { margin: 5px 0; }

#inventoryGrid {
  display: grid;
  grid-template-columns: repeat(4, 60px);
  gap: 5px;
  margin-top: 10px;
}
.slot {
  width: 60px; height: 60px;
  background: #3f4160;
  display:flex;
  align-items:center;
  justify-content:center;
  border: 1px solid #555;
  cursor: pointer;
  border-radius: 4px;
}
.slot img { max-width: 50px; max-height: 50px; }

#mapPanel { margin-top: 10px; }
#map {
  display: grid;
  grid-template-columns: repeat(10, 40px);
  grid-template-rows: repeat(10, 40px);
  gap: 2px;
  justify-content: center;
  background: #2c2f42;
  border: 2px solid #444;
}
.mapCell {
  width: 40px;
  height: 40px;
  background: #3f4160;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius: 4px;
  font-size: 18px;
  cursor: pointer;
}
.player { background: #4caf50; }
.enemy { background: #e53935; }
.npc { background: #ffa726; }
.shop { background: #ffeb3b; color: #000; font-weight:bold; }

#log {
  background: #2c2f42;
  height: 100px;
  border: 1px solid #444;
  overflow-y: auto;
  padding: 5px;
  font-size: 14px;
  margin-top: 10px;
}
</style>
</head>
<body>

<div id="topMenu">
  <button class="active" onclick="showTab('mapPanel', this)">–ö–∞—Ä—Ç–∞</button>
  <button onclick="showTab('inventoryPanel', this)">–Ü–Ω–≤–µ–Ω—Ç–∞—Ä</button>
  <button onclick="showTab('charPanel', this)">–ü–µ—Ä—Å–æ–Ω–∞–∂</button>
</div>

<div class="container">

  <div id="charPanel" class="panel">
    <div class="stats">
      <h2>–ü–µ—Ä—Å–æ–Ω–∞–∂</h2>
      <div>HP: <span id="hp">25/25</span></div>
      <div>–£—Ä–æ–Ω: <span id="dmg">4</span></div>
      <div>AP: <span id="ap">3</span></div>
      <div>–†—ñ–≤–µ–Ω—å: <span id="lvl">1</span></div>
      <div>XP: <span id="xp">0/20</span></div>
      <div>–ó–æ–ª–æ—Ç–æ: <span id="gold">50</span></div>
    </div>
  </div>

  <div id="inventoryPanel" class="panel">
    <h2>–Ü–Ω–≤–µ–Ω—Ç–∞—Ä</h2>
    <div id="inventoryGrid">
      <div class="slot" onclick="useItem(0)"><img src="https://img.icons8.com/color/48/000000/sword.png"/></div>
      <div class="slot" onclick="useItem(1)"><img src="https://img.icons8.com/color/48/000000/shield.png"/></div>
      <div class="slot" onclick="useItem(2)"><img src="https://img.icons8.com/color/48/000000/potion.png"/></div>
      <div class="slot"></div>
    </div>
  </div>

  <div id="mapPanel" class="panel">
    <h2>–ö–∞—Ä—Ç–∞</h2>
    <div id="map"></div>
  </div>

  <div id="log">–õ–æ–≥ –±–æ—é:</div>
</div>

<script>
function showTab(tabId, btn){
  document.querySelectorAll('.panel').forEach(p=>p.style.display='none');
  document.getElementById(tabId).style.display='block';
  document.querySelectorAll('#topMenu button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}

// === –ì—Ä–∞–≤–µ—Ü—å —Ç–∞ –æ–±'—î–∫—Ç–∏ –∫–∞—Ä—Ç–∏ ===
const mapSize = 10;
let player = {x:3, y:3};
const enemies = [{x:1,y:1, img: ''},{x:7,y:4, img: ''},{x:5,y:8, img: ''}];
const npcs = [{x:0,y:5, img: ''}];
const shops = [{x:9,y:0, img: ''}];

// –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—ñ—Ç–∫–∏ –∫–∞—Ä—Ç–∏
const mapDiv = document.getElementById('map');
const cells = [];
for(let y=0;y<mapSize;y++){
  for(let x=0;x<mapSize;x++){
    const cell = document.createElement('div');
    cell.classList.add('mapCell');
    cell.dataset.x = x;
    cell.dataset.y = y;
    cell.onclick = ()=>cellClick(x,y);
    mapDiv.appendChild(cell);
    cells.push(cell);
  }
}

function drawMap(){
  cells.forEach(c=>{
    c.className = 'mapCell';
    c.textContent = '';
    const x = parseInt(c.dataset.x);
    const y = parseInt(c.dataset.y);

    if(x===player.x && y===player.y){
      c.classList.add('player');
      if(player.img){ 
        const img = document.createElement('img'); img.src = player.img; img.style.width='30px'; img.style.height='30px';
        c.appendChild(img);
      } else { c.textContent='üôÇ'; }
    } else if(enemies.some(e=>e.x===x && e.y===y)){
      c.classList.add('enemy');
      const e = enemies.find(e=>e.x===x && e.y===y);
      if(e.img){ const img=document.createElement('img'); img.src=e.img; c.appendChild(img); } else { c.textContent='‚öî'; }
    } else if(npcs.some(n=>n.x===x && n.y===y)){
      c.classList.add('npc');
      const n = npcs.find(n=>n.x===x && n.y===y);
      if(n.img){ const img=document.createElement('img'); img.src=n.img; c.appendChild(img); } else { c.textContent='ü§µ'; }
    } else if(shops.some(s=>s.x===x && s.y===y)){
      c.classList.add('shop');
      const s = shops.find(s=>s.x===x && s.y===y);
      if(s.img){ const img=document.createElement('img'); img.src=s.img; c.appendChild(img); } else { c.textContent='üí∞'; }
    }
  });
}

function cellClick(x,y){
  if(enemies.some(e=>e.x===x && e.y===y)){
    log(`–ë—ñ–π –∑ –≤–æ—Ä–æ–≥–æ–º –Ω–∞ (${x},${y})!`);
  } else if(npcs.some(n=>n.x===x && n.y===y)){
    log(`–°–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –∑ NPC –Ω–∞ (${x},${y})`);
  } else if(shops.some(s=>s.x===x && s.y===y)){
    log(`–í—ñ–¥–∫—Ä–∏—Ç–æ –º–∞–≥–∞–∑–∏–Ω –Ω–∞ (${x},${y})`);
  } else {
    player.x = x;
    player.y = y;
    drawMap();
    log(`–ü–µ—Ä–µ–º—ñ—â–µ–Ω–æ –Ω–∞ (${x},${y})`);
  }
}

function updateUI(){
  document.getElementById('hp').textContent='25/25';
  document.getElementById('dmg').textContent='4';
  document.getElementById('ap').textContent='3';
  document.getElementById('lvl').textContent='1';
  document.getElementById('xp').textContent='0/20';
  document.getElementById('gold').textContent='50';
}

function log(msg){
  const l=document.getElementById('log');
  l.innerHTML+=`<div>${msg}</div>`;
  l.scrollTop = l.scrollHeight;
}

function useItem(i){
  log(`–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ –ø—Ä–µ–¥–º–µ—Ç #${i}`);
}

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
window.onload = function(){
  showTab('mapPanel');
  drawMap();
  updateUI();
}
</script>

</body>
</html>
